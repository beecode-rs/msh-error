import { ErrorBaseModel } from '#src/error/base-model';
export const expressMiddleware = (err, _req, res, _next) => {
    if (err instanceof ErrorBaseModel) {
        return res.status(err.httpCode).json({
            code: err.httpCode,
            message: err.message,
            status: 'error',
        });
    }
    if (err instanceof Error) {
        return res.status(500).json({
            code: 500,
            message: err.message,
            status: 'error',
        });
    }
    return res.status(500).json({
        code: 500,
        message: 'Unknown error',
        status: 'error',
    });
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWlkZGxld2FyZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9leHByZXNzL21pZGRsZXdhcmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLHVCQUF1QixDQUFBO0FBRXRELE1BQU0sQ0FBQyxNQUFNLGlCQUFpQixHQUFHLENBQUMsR0FBWSxFQUFFLElBQWEsRUFBRSxHQUFhLEVBQUUsS0FBbUIsRUFBVyxFQUFFO0lBQzdHLElBQUksR0FBRyxZQUFZLGNBQWMsRUFBRSxDQUFDO1FBQ25DLE9BQU8sR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDO1lBQ3BDLElBQUksRUFBRSxHQUFHLENBQUMsUUFBUTtZQUNsQixPQUFPLEVBQUUsR0FBRyxDQUFDLE9BQU87WUFDcEIsTUFBTSxFQUFFLE9BQU87U0FDZixDQUFDLENBQUE7SUFDSCxDQUFDO0lBRUQsSUFBSSxHQUFHLFlBQVksS0FBSyxFQUFFLENBQUM7UUFDMUIsT0FBTyxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQztZQUMzQixJQUFJLEVBQUUsR0FBRztZQUNULE9BQU8sRUFBRSxHQUFHLENBQUMsT0FBTztZQUNwQixNQUFNLEVBQUUsT0FBTztTQUNmLENBQUMsQ0FBQTtJQUNILENBQUM7SUFFRCxPQUFPLEdBQUcsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDO1FBQzNCLElBQUksRUFBRSxHQUFHO1FBQ1QsT0FBTyxFQUFFLGVBQWU7UUFDeEIsTUFBTSxFQUFFLE9BQU87S0FDZixDQUFDLENBQUE7QUFDSCxDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0eXBlIE5leHRGdW5jdGlvbiwgdHlwZSBSZXF1ZXN0LCB0eXBlIFJlc3BvbnNlIH0gZnJvbSAnZXhwcmVzcydcblxuaW1wb3J0IHsgRXJyb3JCYXNlTW9kZWwgfSBmcm9tICcjc3JjL2Vycm9yL2Jhc2UtbW9kZWwnXG5cbmV4cG9ydCBjb25zdCBleHByZXNzTWlkZGxld2FyZSA9IChlcnI6IHVua25vd24sIF9yZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UsIF9uZXh0OiBOZXh0RnVuY3Rpb24pOiB1bmtub3duID0+IHtcblx0aWYgKGVyciBpbnN0YW5jZW9mIEVycm9yQmFzZU1vZGVsKSB7XG5cdFx0cmV0dXJuIHJlcy5zdGF0dXMoZXJyLmh0dHBDb2RlKS5qc29uKHtcblx0XHRcdGNvZGU6IGVyci5odHRwQ29kZSxcblx0XHRcdG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxuXHRcdFx0c3RhdHVzOiAnZXJyb3InLFxuXHRcdH0pXG5cdH1cblxuXHRpZiAoZXJyIGluc3RhbmNlb2YgRXJyb3IpIHtcblx0XHRyZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xuXHRcdFx0Y29kZTogNTAwLFxuXHRcdFx0bWVzc2FnZTogZXJyLm1lc3NhZ2UsXG5cdFx0XHRzdGF0dXM6ICdlcnJvcicsXG5cdFx0fSlcblx0fVxuXG5cdHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XG5cdFx0Y29kZTogNTAwLFxuXHRcdG1lc3NhZ2U6ICdVbmtub3duIGVycm9yJyxcblx0XHRzdGF0dXM6ICdlcnJvcicsXG5cdH0pXG59XG4iXX0=